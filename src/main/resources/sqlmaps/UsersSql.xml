<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sqlmaps.UsersSql">
	<select id="selectUsers">
		/* 사용자 목록 조회 */
		SELECT
			  IDX     as "idx"
			, USER_ID as "userId"
			, USER_PW as "userPw"
		FROM
			USERS
		<where>
			AND IDX = #{idx}
		</where>
		ORDER BY IDX ASC
	</select>

	<select id="selectUser">
		/* 사용자 조회 */
		SELECT
			  IDX     as "idx"
			, USER_ID as "userId"
			, USER_PW as "userPw"
		FROM
			USERS
		<where>
			AND IDX = #{idx}
		</where>
		ORDER BY IDX ASC
	</select>

	<insert id="insertUser">
		/* 사용자 입력 */
		INSERT INTO
			USERS
			(
				  IDX
				, USER_ID
				, USER_PW
			)
			VALUES 
			(
				  #{idx,jdbcType=VARCHAR}
				, #{userId,jdbcType=VARCHAR}
				, #{userPw,jdbcType=VARCHAR}
			)
	</insert>

	<update id="updateUser">
		/* 사용자 수정 */
		UPDATE
			USERS
		<set>
			<if test="idx    != null">  IDX       = #{idx}       ,  </if>
			<if test="userId != null">  USER_ID   = #{userId}    ,  </if>
			<if test="userPw != null">  USER_PW   = #{userPw}    ,  </if>
		</set>
		<where>
			AND GROUP_CD = #{groupCd}
			AND ITEM_CD = #{itemCd}
		</where>
	</update>

	<delete id="deleteUser">
		/* 코드 삭제 */
		DELETE FROM
			USERS
		<where>
			AND GROUP_CD = #{groupCd}
			AND ITEM_CD = #{itemCd}
		</where>
	</delete>
</mapper>